#include <stdio.h>

#define CR  0x0D
#define LF  0x0A

int main(int argc, char *argv[])
{

    printf("\nLIST, Copyright (c) 1991, 2016 Vilmar Catafesta\n");
    if( argc < 2){
        printf("Uso: FILE arquivo.txt\n");
        return 1;
    }
    FILE *fp;
    char ch;
    int iLetras  = 0; 
    int iEspacos = 0;
    int iLine    = 0;
    //char  cArquivo[] = "dados.txt";
    char *cArquivo = argv[1];
    
    fp=fopen( cArquivo, "rb");
    if(fp != NULL){
        printf("%4d " , ++iLine);
        while ((ch = fgetc(fp)) != EOF){
            printf("%c", ch);
            (ch == 32) ? iEspacos++ : iLetras++;
            if(ch == LF)
               printf("%4d ", ++iLine);
            
        }
        fclose(fp);
        printf("\nQuantidade de linhas : %d", iLine);
        printf("\nQuantidade de letras : %d", iLetras);
        printf("\nQuantidade de espacos: %d", iEspacos);
    }
    else
        printf("Erro de abertura de '%s'.", cArquivo);
    return 0;
}
